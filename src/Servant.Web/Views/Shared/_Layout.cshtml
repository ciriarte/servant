﻿@inherits Nancy.ViewEngines.Razor.NancyRazorViewBase<dynamic>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>@Model.Title</title>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,300' rel='stylesheet' type='text/css'>
    @if (Model.IsDevelopment)
    {
        <link href="/css/normalize.css" rel="stylesheet" />
        <link href="/css/base.css" rel="stylesheet" type="text/css" />
    }
    else
    {
        <link href="/css/servant.css" rel="stylesheet" type="text/css" />
    }
</head>
    <body>
        <div id="popup-message" class="error">
            <span>@Model.Message</span>
        </div>

        <div id="sidemenu">
            <div id="servername">
                \\@Model.Page.Servername
            </div>
            
            <div id="search">
                <input type="text" class="white" style="float:left;" /><input type="submit" value=""  />
            </div>
            
            <ul class="active-@ViewBag.ActiveMenuItem">
                <li class="home"><a href="/">Home</a></li>
                <li class="sites">
                    <a href="#">Sites<span class="arrow"></span></a>
                    
                    <ul>
                        <li class="bold"><a href="/sites/create">Create new</a></li> 
                        @foreach (var site in Model.Page.Sites)
                        {
                            <li @Html.Raw(ViewBag.ActiveSiteName == site.Name ? " class=\"active\"" : null)>
                                <a href="/sites/@site.IisId/settings/">@site.Name</a>
                            </li>     
                        }
                    </ul>
                </li>
                <li class="settings"><a href="/settings/">Settings</a></li>
            </ul>
            <p id="copyright">Servant for IIS 1.0.5 - Free Edition<br/> &copy; Copyright 2013 - 8seven</p>
        </div>
        <div id="maincontent">
            <div id="content-minwidth">
                @RenderBody()
            </div>
        </div>
        
        <script type="text/javascript">
            var errors = @Html.Raw(Model.ErrorsAsJson);
            var message = "@Html.Raw(Model.Message)";
        </script>
    
        <script src="/scripts/jquery-1.8.0.min.js" type="text/javascript"></script>
        @if (Model.IsDevelopment)
        {
            <script src="/scripts/jquery.filtr.min.js"></script>
            <script src="/scripts/jquery.watermark.min.js"></script>
            <script src="/scripts/jquery.timeago.js"></script>
            <script src="/scripts/base.js" type="text/javascript"></script>
        }
        else
        {
            <script src="/scripts/servant.js" type="text/javascript"></script>    
        }
   
        <script type="text/javascript">
            $(function() {
                var $popupMessage = $('#popup-message');
                @if (!string.IsNullOrWhiteSpace(Model.Message))
                {
                    @:$popupMessage.removeClass().addClass('@Model.MessageType.ToString().ToLower()')
                    @:$popupMessage.delay(200).slideDown();    
                }
            });
        </script>
        <script type="text/javascript">
            var uvOptions = {};
            (function() {
                var uv = document.createElement('script'); uv.type = 'text/javascript'; uv.async = true;
                uv.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'widget.uservoice.com/ntkZvVjd0zcNeUeKbxKL8Q.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(uv, s);
            })();
        </script>
        @RenderSection("javascript", false)
    </body>
</html>
